
RECENTLY VIEWED PRODUCTS (IMPLEMENTATION NOTES)
==============================================

Goal
----
- Store the last N viewed product IDs in localStorage.
- Update the list whenever a user opens a ProductDetails page.
- Show a small “Recently Viewed” section on Home and on ProductDetails.


1) Storage design (localStorage)
-------------------------------

File:
- frontend/src/utils/recentlyViewedStorage.js

Storage key:
- recently_viewed_product_ids

Behavior:
- addRecentlyViewedId(productId, maxItems=10)
	- Converts productId to string
	- Deduplicates (if you view the same product again, it moves to the front)
	- Keeps most-recent-first ordering
	- Caps the list to maxItems

Why this approach:
- Works for guests and logged-in users with no backend changes.
- Super fast UX (no server calls required to “remember” views).


2) UI component that renders Recently Viewed
-------------------------------------------

File:
- frontend/src/components/RecentlyViewedSection.jsx

Inputs:
- limit (default 8)
- excludeId (optional) – used on ProductDetails to avoid showing the same product you’re currently viewing.

How it loads:
- Reads the IDs from localStorage using getRecentlyViewedIds().
- Fetches each product by ID using the existing backend endpoint:
	- GET /api/V1/products/find/:id
- Renders the result as a product grid using the existing Product card component.

Note:
- If there are no IDs in localStorage, the component returns null (shows nothing).


3) Where we update the Recently Viewed list
------------------------------------------

File:
- frontend/src/pages/ProductDetails.jsx

When it runs:
- After the product is successfully fetched, we call:
	addRecentlyViewedId(productId)

This means:
- Visiting ProductDetails is what records the “view.”


4) Where we display the Recently Viewed section
----------------------------------------------

A) ProductDetails page
- frontend/src/pages/ProductDetails.jsx
- Adds:
	<RecentlyViewedSection excludeId={productId} limit={8} />

B) Home page
- frontend/src/pages/Home.jsx
- Adds:
	<RecentlyViewedSection limit={8} />


5) How to test quickly
----------------------

1) Start backend + frontend.
2) Open a few products (ProductDetails) one after another.
3) Go back to Home:
	 - You should see the “Recently Viewed” grid appear.
4) Open any product:
	 - The ProductDetails page should show “Recently Viewed” below and it should exclude the current product.


6) Notes / constraints
----------------------

- This is localStorage-only (no DB sync). It works for all users instantly.
- Clearing browser storage clears recently viewed history.

