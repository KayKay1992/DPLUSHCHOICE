
ORDER STATUS: PENDING UNTIL ADMIN COMPLETES
==========================================

Problem
-------
When a user places an order, it was becoming “completed” immediately.
You wanted all new orders to start as Pending, and only become Completed when an admin marks them as completed/delivered.


Status meaning (backend)
------------------------
We use a numeric status field on the Order:

- status = 0  => Pending (default)
- status = 1  => Completed / Delivered (admin action)

Important: this status is fulfillment/completion, NOT payment.
(Stripe payment can succeed, but the order should still be Pending until delivered.)


Changes made (Backend)
----------------------

1) Stripe orders (webhook-created orders)
File: Backend/routes/stripe.js

Before:
- The Stripe webhook created the order with `status: 1`, which made it look “completed” immediately.

After:
- The Stripe webhook now creates the order with:
	- status: 0
So every new Stripe-paid order starts Pending.


2) Normal orders (API-created orders)
File: Backend/controller/order.controller.js

Before:
- createOrder used: new Order(req.body)
- If the frontend ever sent status=1 (or if defaults changed), the order could be created as completed.

After:
- createOrder now forces status=0 at creation:
	- new Order({ ...req.body, status: 0 })

This guarantees that customers cannot create “completed” orders.


Admin completes the order
-------------------------
Admin uses the existing update endpoint:

- PUT /api/V1/orders/:id
	Body: { status: 1 }  -> mark Completed
	Body: { status: 0 }  -> mark Pending

This is triggered from the Admin Orders page action button.


Frontend display update
-----------------------
File: frontend/src/pages/Order.jsx

Before:
- It displayed status as “Paid” when status===1.

After:
- It displays:
	- “Completed” when status===1
	- “Pending” when status!==1


How to test
-----------
1) Place an order as a user (Stripe checkout or normal order route)
2) Check the created order in DB or Admin Orders table:
	 - It should be Pending (status 0)
3) In Admin Orders page, click the action button to mark Delivered/Completed:
	 - Status should change to Completed (status 1)
4) Refresh Admin Orders page:
	 - Status change should persist

