
Stripe Removal Notes (Feb 14, 2026)

Goal
- Remove Stripe completely (including webhook implementation) so the project can later adopt Paystack.


What I removed/changed

1) Backend: removed Stripe webhook + routes wiring
- File: Backend/app.js
	- Removed the “Stripe webhook must come first (raw body)” middleware:
		app.use("/api/V1/stripe/webhook", express.raw({ type: "application/json" }))
	- Removed the Stripe routes import/mount:
		- import stripeRoutes from "./routes/stripe.js"
		- app.use("/api/V1/stripe", stripeRoutes)

Why this matters
- Stripe webhooks often require raw request body; since Stripe is gone, we no longer need the special raw-body ordering.


2) Backend: deleted Stripe implementation files
- Deleted: Backend/routes/stripe.js
	- This file contained:
		- POST /stripe/create-checkout-session
		- POST /stripe/webhook
- Deleted: Backend/models/stripeSession.model.js
	- This model was used as an idempotency lock for webhook processing.


3) Backend: removed Stripe-specific data from the Order schema
- File: Backend/models/order.model.js
	- Removed the field:
		stripeSessionId
	- Reason: it only existed to trace Stripe checkout sessions and enforce idempotency.

Important note
- If you already have existing orders in MongoDB with stripeSessionId saved, removing the schema field won’t delete the data in Mongo; it simply won’t be part of the schema going forward.


4) Backend: removed Stripe dependency
- File: Backend/package.json
	- Removed dependency: "stripe"
- Then ran:
	- cd Backend
	- npm install
	This updated the lockfile + removed the Stripe package from node_modules.


5) Frontend: disabled Stripe checkout call
- File: frontend/src/pages/Cart.jsx
	- Removed the Axios call to Stripe checkout session:
		userRequest.post("/stripe/create-checkout-session", ...)
	- Replaced the checkout action with a simple toast:
		“Checkout is temporarily unavailable. Paystack is coming soon.”

Why
- Once the backend Stripe routes were removed, the old frontend checkout call would fail.
- This keeps the UI working while you postpone payment integration.


Verification performed
- Confirmed Stripe files were gone from Backend/routes and Backend/models.
- Reinstalled backend dependencies after removing Stripe.
- Checked for editor diagnostics on key changed files (no errors reported).


What’s next (when you start Paystack)
- Decide whether you want:
	- server-generated Paystack transaction initialization (recommended), OR
	- client-only Paystack (less control).
- Add a new backend route like:
	POST /api/V1/payments/paystack/initialize
	and update Cart checkout to call it.

